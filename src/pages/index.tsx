import useSWR from 'swr'; import Link from 'next/link'; const f=(u:string)=>fetch(u).then(r=>r.json()); export default function Home(){ const {data:open}=useSWR('/api/trades?status=OPEN',f,{refreshInterval:4000}); const {data:ready}=useSWR('/api/trades?status=READY',f,{refreshInterval:2000}); return (<div style={{padding:20}}><h1>Queue</h1><h3>Open</h3>{(open?.trades||[]).map((t:any)=>(<div key={t.id}><Link href={`/t/${t.qr_slug}`}>#{String(t.queue_number).padStart(3,'0')} {t.customer_name||''}</Link></div>))}<h3>Ready</h3>{(ready?.trades||[]).map((t:any)=>(<div key={t.id}><Link href={`/t/${t.qr_slug}`}>#{String(t.queue_number).padStart(3,'0')} {t.customer_name||''}</Link></div>))}<p style={{marginTop:16}}><a href='/new'>New Intake</a> Â· <a href='/credits'>Redeem</a></p></div>); }
